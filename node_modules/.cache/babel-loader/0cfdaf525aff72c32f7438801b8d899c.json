{"ast":null,"code":"import _classCallCheck from\"C:/Users/User/Documents/GitHub/XpertShop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/User/Documents/GitHub/XpertShop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/User/Documents/GitHub/XpertShop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/User/Documents/GitHub/XpertShop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import*as actions from\"../store/actions/index\";import\"./cart.css\";import Layout from\"../layout/layout\";import LoginIcon from\"../../assets/loginicon.png\";import{NavLink}from\"react-router-dom\";import CartProduct from\"./cartProduct/cartProduct\";import Spinner from\"../ui/spinner/spinner\";var Cart=/*#__PURE__*/function(_Component){_inherits(Cart,_Component);var _super=_createSuper(Cart);function Cart(){_classCallCheck(this,Cart);return _super.apply(this,arguments);}_createClass(Cart,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.onFetchOrders();}},{key:\"render\",value:function render(){var cartAuthenticated=/*#__PURE__*/_jsxs(\"div\",{className:\"notLoggedIn\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Ju nuk jeni ky\\xE7ur akoma!\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(NavLink,{to:\"/kycu\",children:\"Ky\\xE7uni\"}),\" ose\",\" \",/*#__PURE__*/_jsx(NavLink,{to:\"/regjistrohu\",children:\"krijoni\"}),\" nj\\xEB llogari p\\xEBr t\\xEB vazhduar m\\xEB tutje.\"]}),/*#__PURE__*/_jsx(\"img\",{src:LoginIcon,alt:\"\"})]});var showCart=/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{style:{width:\"100%\",margin:\"0 auto !important\"},colSpan:\"100%\",children:/*#__PURE__*/_jsx(Spinner,{})})});var total=0;this.props.orders.map(function(orderItem,i){return total=total+orderItem.productPrice;});if(!this.props.loading){var cartProductList=this.props.orders.map(function(orderItem,i){return/*#__PURE__*/_jsx(CartProduct,{productImage:orderItem.productImage,productTitle:orderItem.productTitle,productPrice:Number(orderItem.productPrice).toLocaleString(),productId:orderItem.productId},i);});if(cartProductList!=\"\"){showCart=cartProductList;}else{showCart=/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"100%\",style:{padding:\"30px\"},children:\"Shporta juaj \\xEBsht\\xEB bosh!\"})});}}if(this.props.isAuthenticated){cartAuthenticated=/*#__PURE__*/_jsxs(\"div\",{className:\"cart\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cartHeader\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Shporta juaj\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"cartContainer\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Produktet:\"}),/*#__PURE__*/_jsx(\"table\",{id:\"cart\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{id:\"delTH\"}),/*#__PURE__*/_jsx(\"th\",{id:\"imageTH\"}),/*#__PURE__*/_jsx(\"th\",{className:\"productCell\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Produkti\"})}),/*#__PURE__*/_jsx(\"th\",{id:\"priceTH\",children:\"Cmimi\"}),/*#__PURE__*/_jsx(\"th\",{id:\"countTH\",children:\"Sasia\"})]}),showCart]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"cartTotal\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Totali: \"}),/*#__PURE__*/_jsxs(\"h4\",{children:[Number(total).toLocaleString(),\" ALL\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"checkoutButton\",children:\"B\\xEBje porosin\\xEB\"})]})]});}return/*#__PURE__*/_jsx(Layout,{children:cartAuthenticated});}}]);return Cart;}(Component);var mapStateToProps=function mapStateToProps(state){return{isAuthenticated:state.auth.token!==null,orders:state.orders.orders,loading:state.orders.loading};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onFetchOrders:function onFetchOrders(){return dispatch(actions.fetchOrders());}};};export default connect(mapStateToProps,mapDispatchToProps)(Cart);","map":{"version":3,"sources":["C:/Users/User/Documents/GitHub/XpertShop/src/containers/cart/cart.js"],"names":["React","Component","connect","actions","Layout","LoginIcon","NavLink","CartProduct","Spinner","Cart","props","onFetchOrders","cartAuthenticated","showCart","width","margin","total","orders","map","orderItem","i","productPrice","loading","cartProductList","productImage","productTitle","Number","toLocaleString","productId","padding","isAuthenticated","mapStateToProps","state","auth","token","mapDispatchToProps","dispatch","fetchOrders"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../store/actions/index\";\r\nimport \"./cart.css\";\r\nimport Layout from \"../layout/layout\";\r\nimport LoginIcon from \"../../assets/loginicon.png\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport CartProduct from \"./cartProduct/cartProduct\";\r\nimport Spinner from \"../ui/spinner/spinner\";\r\n\r\nclass Cart extends Component {\r\n  componentDidMount() {\r\n    this.props.onFetchOrders();\r\n  }\r\n\r\n  render() {\r\n    let cartAuthenticated = (\r\n      <div className=\"notLoggedIn\">\r\n        <h2>Ju nuk jeni kyçur akoma!</h2>\r\n        <p>\r\n          <NavLink to=\"/kycu\">Kyçuni</NavLink> ose{\" \"}\r\n          <NavLink to=\"/regjistrohu\">krijoni</NavLink> një llogari për të\r\n          vazhduar më tutje.\r\n        </p>\r\n        <img src={LoginIcon} alt=\"\" />\r\n      </div>\r\n    );\r\n\r\n    let showCart = (\r\n      <tr>\r\n        <td\r\n          style={{ width: \"100%\", margin: \"0 auto !important\" }}\r\n          colSpan=\"100%\"\r\n        >\r\n          <Spinner />\r\n        </td>\r\n      </tr>\r\n    );\r\n\r\n    let total = 0;\r\n    this.props.orders.map(\r\n      (orderItem, i) => (total = total + orderItem.productPrice)\r\n    );\r\n\r\n    if (!this.props.loading) {\r\n      let cartProductList = this.props.orders.map((orderItem, i) => (\r\n        <CartProduct\r\n          key={i}\r\n          productImage={orderItem.productImage}\r\n          productTitle={orderItem.productTitle}\r\n          productPrice={Number(orderItem.productPrice).toLocaleString()}\r\n          productId={orderItem.productId}\r\n        />\r\n      ));\r\n      if (cartProductList != \"\") {\r\n        showCart = cartProductList;\r\n      } else {\r\n        showCart = (\r\n          <tr>\r\n            <td colSpan=\"100%\" style={{ padding: \"30px\" }}>\r\n              Shporta juaj është bosh!\r\n            </td>\r\n          </tr>\r\n        );\r\n      }\r\n    }\r\n\r\n    if (this.props.isAuthenticated) {\r\n      cartAuthenticated = (\r\n        <div className=\"cart\">\r\n          <div className=\"cartHeader\">\r\n            <h1>Shporta juaj</h1>\r\n          </div>\r\n\r\n          <div className=\"cartContainer\">\r\n            <h3>Produktet:</h3>\r\n            <table id=\"cart\">\r\n              <tbody>\r\n                <tr>\r\n                  <th id=\"delTH\"></th>\r\n                  <th id=\"imageTH\"></th>\r\n                  <th className=\"productCell\">\r\n                    <h4>Produkti</h4>\r\n                  </th>\r\n                  <th id=\"priceTH\">Cmimi</th>\r\n                  <th id=\"countTH\">Sasia</th>\r\n                </tr>\r\n                {showCart}\r\n              </tbody>\r\n            </table>\r\n\r\n            <div className=\"cartTotal\">\r\n              <h4>Totali: </h4>\r\n              <h4>{Number(total).toLocaleString()} ALL</h4>\r\n            </div>\r\n            <button className=\"checkoutButton\">Bëje porosinë</button>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return <Layout>{cartAuthenticated}</Layout>;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAuthenticated: state.auth.token !== null,\r\n    orders: state.orders.orders,\r\n    loading: state.orders.loading,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onFetchOrders: () => dispatch(actions.fetchOrders()),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);\r\n"]},"metadata":{},"sourceType":"module"}